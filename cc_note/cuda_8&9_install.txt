使用系统是ubuntu16 server版，已安装好cuda8和cudnn6
现在继续安装cuda9.0和cudnn v7.1.4

使用cuda9的时候先把	/usr/local/cuda软连接到/usr/local/cuda-9.0

问题：Internal: cudaGetDevice() failed. Status: CUDA driver version is insufficient for CUDA runtime version

原因是显卡驱动版本和cuda版本不兼容

卸载显卡原有381.22的显卡驱动，删除cuda-9.0，重新安装cuda-9.0，其中安装显卡驱动384.81
选yes

Please make sure that
 -   PATH includes /usr/local/cuda-9.0/bin
 -   LD_LIBRARY_PATH includes /usr/local/cuda-9.0/lib64, or, add /usr/local/cuda-9.0/lib64 to /etc/ld.so.conf and run ldconfig as root
To uninstall the CUDA Toolkit, run the uninstall script in /usr/local/cuda-9.0/bin
To uninstall the NVIDIA Driver, run nvidia-uninstall


装好之后运行tf.models/tutorial里的mninst，出现错误：Loaded runtime CuDNN library: 7104 (compatibility version 7100) but source was compiled with 7004 (compatibility version 7000)

意思是cudnn7.1与现有cuda版本和驱动版本不兼容，重新安装cudnn7.0
下载地址：https://developer.nvidia.com/compute/machine-learning/cudnn/secure/v7.0.5/prod/9.0_20171129/cudnn-9.0-linux-x64-v7

成功！！

在.bashrc下重命名
alias tf1.3='source activate tensorflow'
alias tf1.8='source activate tensorflow1.8'
alias cuda8='sudo rm /usr/local/cuda; sudo ln -s /usr/local/cuda-8.0 /usr/local/cuda'
alias cuda9='sudo rm /usr/local/cuda; sudo ln -s /usr/local/cuda-9.0 /usr/local/cuda'



